Briefly explain the vulnerability and why the secure version prevents the vulnerability.

The secret in insecure.js is hard-coded, meaning that it is exposed to anyone who gets access to the source code, for instance by hacking (or just having regular appropriate access to) a version control system. This would allow an attacker to pretend to be another user by using their session secret (spoofing the session). "httpOnly: false" also allows scripts on the client side to access the cookie and then do anything with it, such as send it to an endpoint controlled by the attacker so they can use it to spoof the session (cross-site scripting attacks).

In secure.js, the session secret is read from the command line, so it's never stored in the code or version control systems anywhere. In addition, httpOnly is set to true so that JavaScript can't access the cookies, and on top of that sameSite is also set to true which means that a cookie is only sned in requests that come from the same site as the cookie. This way, an attacker's website opened during a session for another website can't send a request to the other website and have that request be trusted, because it didn't come from the same site.
